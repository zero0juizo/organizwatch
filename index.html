<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Organiwatch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<h1>Organiwatch</h1>

<!-- MENU LISTAS -->
<div id="menuListas">
  <button id="openListas">Listas</button>
  <div id="listasDropdown">
    <button data-lista="">Todos</button>
    <button data-lista="Dropei">Dropei</button>
    <button data-lista="Indicar">Indicar</button>
    <button data-lista="Bom">Bom</button>
    <button data-lista="FODA">FODA</button>
    <button data-lista="Assistirei">Assistirei</button>
  </div>
</div>

<!-- ABAS -->
<div class="tabs">
  <button class="tab active" data-tab="filmes">Filmes</button>
  <button class="tab" data-tab="series">Séries</button>
  <button class="tab" data-tab="animes">Animes</button>
</div>

<!-- CONTEÚDOS -->
<div class="tab-content active" id="filmes">
  <button class="addBtn" data-category="filmes">Adicionar Filme</button>
  <div class="lista" id="lista-filmes"></div>
</div>

<div class="tab-content" id="series">
  <button class="addBtn" data-category="series">Adicionar Série</button>
  <div class="lista" id="lista-series"></div>
</div>

<div class="tab-content" id="animes">
  <button class="addBtn" data-category="animes">Adicionar Anime</button>
  <div class="lista" id="lista-animes"></div>
</div>

<!-- MODAL FORM -->
<div id="modal" class="modal">
  <div class="modal-content">
    <h2 id="modalTitle"></h2>

    <form id="itemForm">
      <input type="hidden" id="categoriaAtual">

      <input id="titulo" placeholder="Título *" required>
      <input id="tituloOriginal" placeholder="Título Original">
      <input id="capa" placeholder="URL da capa">
      <input id="epi" type="number" min="0" placeholder="Episódios">

      <label><input type="checkbox" id="dublado"> Dublado</label>
      <label><input type="checkbox" id="legendado"> Legendado</label>

      <textarea id="sinopse" placeholder="Sinopse"></textarea>
      <textarea id="resumo" placeholder="Resumo"></textarea>
      <input id="trailer" placeholder="Trailer">
      <input id="link" placeholder="Link *" required>

      <button type="submit">Salvar</button>
      <button type="button" id="closeModal">Cancelar</button>
    </form>
  </div>
</div>

<!-- ================= MODAL DE DETALHES ================= -->
<div id="detailsModal" class="modal">
    <div class="modal-content details-layout">

        <!-- ===== COLUNA DA IMAGEM ===== -->
        <div class="details-image">
            <img id="detailsCapa" alt="Capa do item">
        </div>

        <!-- ===== COLUNA DAS INFORMAÇÕES ===== -->
        <div class="details-info">

            <!-- Título -->
            <h2 id="detailsTitle"></h2>

            <!-- Link para assistir -->
            <a id="detailsAssistir" target="_blank">Assistir</a>

            <!-- Controle de episódios -->
            <div id="detailsEpi" class="epi-control">
                <button id="detailsDec">-</button>
                <span id="detailsEpiValue"></span>
                <button id="detailsInc">+</button>
            </div>

            <!-- Texto -->
            <p id="detailsInfo"></p>

            <!-- Datas -->
            <p id="detailsDatas"></p>

            <!-- Ações -->
            <div class="form-actions">
                <button id="editItem">Editar</button>
                <button id="deleteItem">Excluir</button>
                <button id="closeDetails">Fechar</button>
            </div>
        </div>

    </div>
</div>


<!-- FIREBASE -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDGDrRAt3l8sZEfdASWEpoap8EBA4Sfth0",
    authDomain: "organiwatch.firebaseapp.com",
    projectId: "organiwatch",
    storageBucket: "organiwatch.firebasestorage.app",
    messagingSenderId: "1055643487864",
    appId: "1:1055643487864:web:245601c718da750dd6e78d",
    measurementId: "G-CCG5M0F8VG"
  };

  const app = initializeApp(firebaseConfig);
  window.db = getFirestore(app);
</script>

<!-- SCRIPT PRINCIPAL -->
<script type="module" src="script.js"></script>

</body>
</html>


