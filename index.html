<!-- ========================== index.html ========================== -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Organiwatch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<h1>Organiwatch</h1>

<!-- ================= FILTROS DE LISTA ================= -->
<div id="menuListas">
  <button id="openListas">Listas</button>
  <div id="listasDropdown">
    <button data-filtro="">Todos</button>
    <button data-filtro="dropei">Dropei</button>
    <button data-filtro="indicar">Indicar</button>
    <button data-filtro="assistindo">Assistindo</button>
    <button data-filtro="assistido">Assistido</button>
    <button data-filtro="dublado">Dublado</button>
    <button data-filtro="legendado">Legendado</button>
  </div>
</div>

<!-- ================= ABAS ================= -->
<div class="tabs">
  <button class="tab active" data-tab="filmes">Filmes</button>
  <button class="tab" data-tab="series">Séries</button>
  <button class="tab" data-tab="animes">Animes</button>
</div>

<!-- ================= CONTEÚDOS ================= -->
<div class="tab-content active" id="filmes">
  <button class="addBtn" data-category="filmes">Adicionar Filme</button>
  <div class="lista" id="lista-filmes"></div>
</div>

<div class="tab-content" id="series">
  <button class="addBtn" data-category="series">Adicionar Série</button>
  <div class="lista" id="lista-series"></div>
</div>

<div class="tab-content" id="animes">
  <button class="addBtn" data-category="animes">Adicionar Anime</button>
  <div class="lista" id="lista-animes"></div>
</div>

<!-- ================= MODAL FORM ================= -->
<div id="modal" class="modal">
  <div class="modal-content">
    <h2 id="modalTitle">Item</h2>
    <form id="itemForm">
      <input type="hidden" id="categoriaAtual">
      <input type="hidden" id="idAtual">

      <input id="titulo" placeholder="Título *" required>
      <input id="tituloOriginal" placeholder="Título Original">
      <input id="capa" placeholder="URL da capa">
      <input id="epi" type="number" min="0" placeholder="Episódios">

      <label><input type="checkbox" id="dublado"> Dublado</label>
      <label><input type="checkbox" id="legendado"> Legendado</label>

      <textarea id="sinopse" placeholder="Sinopse"></textarea>
      <textarea id="resumo" placeholder="Resumo"></textarea>
      <input id="trailer" placeholder="Trailer">
      <input id="link" placeholder="Link *" required>

      <div class="form-actions">
        <button type="submit">Salvar</button>
        <button type="button" id="closeModal">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- ================= MODAL DETALHES ================= -->
<div id="detailsModal" class="modal">
  <div class="modal-content details-layout">

    <div class="details-image">
      <img id="detailsCapa">
    </div>

    <div class="details-info">
      <h2 id="detailsTitle"></h2>

      <a id="detailsAssistir" target="_blank">Assistir</a>

      <div id="detailsEpi" class="epi-control">
        <button id="detailsDec">-</button>
        <span id="detailsEpiValue"></span>
        <button id="detailsInc">+</button>
      </div>

      <!-- CHECK MARKS DAS LISTAS -->
      <div class="checks">
        <label><input type="checkbox" data-flag="dropei"> Dropei</label>
        <label><input type="checkbox" data-flag="indicar"> Indicar</label>
        <label><input type="checkbox" data-flag="assistindo"> Assistindo</label>
        <label><input type="checkbox" data-flag="assistido"> Assistido</label>
      </div>

      <p id="detailsInfo"></p>
      <p id="detailsDatas"></p>

      <div class="form-actions">
        <button id="editItem">Editar</button>
        <button id="deleteItem">Excluir</button>
        <button id="closeDetails">Fechar</button>
      </div>
    </div>

  </div>
</div>

<!-- ================= FIREBASE ================= -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDGDrRAt3l8sZEfdASWEpoap8EBA4Sfth0",
    authDomain: "organiwatch.firebaseapp.com",
    projectId: "organiwatch",
    storageBucket: "organiwatch.firebasestorage.app",
    messagingSenderId: "1055643487864",
    appId: "1:1055643487864:web:245601c718da750dd6e78d"
  };

  const app = initializeApp(firebaseConfig);
  window.db = getFirestore(app);
</script>

<script type="module" src="script.js"></script>
</body>
</html>
